{{ define "main" }}
<main class="collections">
  <h1>{{ .Title }}</h1>
  {{ with .Content }}<div class="content">{{ . }}</div>{{ end }}

  {{ if .Sections }}
    {{/* We are on /collections/ → show sub-collections */}}
    <div class="collections-grid">
      {{ range sort .Sections "Weight" "Title" }}
        <article class="collection-card">
          <a href="{{ .RelPermalink }}">
            <h2>{{ .LinkTitle }}</h2>
            {{ with .Params.summary }}<p>{{ . }}</p>{{ end }}
          </a>
        </article>
      {{ end }}
    </div>
  {{ else if .RegularPages }}
    {{/* We are on /collections/<collection>/ → show items */}}
    <div class="items-grid">
      {{ range sort .RegularPages "Weight" "Title" }}
        <article class="item-card">
          <a href="{{ .RelPermalink }}">
            <h3>{{ .LinkTitle }}</h3>
            {{ with .Params.summary }}<p>{{ . }}</p>{{ end }}
          </a>
        </article>
      {{ end }}
    </div>
  {{ else }}
    <p>No content found.</p>
  {{ end }}
</main>
{{ end }}
