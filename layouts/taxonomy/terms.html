{{ define "main" }}
<main class="collections">
  <h1 style="text-align: center; padding: 0 2rem;">{{ .Title }}</h1>
  {{ with .Content }}<div class="content">{{ . }}</div>{{ end }}

  <section class="bento-grid bento-description">
    {{/* Iterate terms: .Data.Terms works on a terms page */}}
    {{ range .Data.Terms.Alphabetical }}
      {{ $p := .Page }} {{/* the term’s page (if it exists) */}}

      {{/* Thumb: param → first image resource → placeholder */}}
      {{ $thumb := $p.Params.featured_image }}
      {{ if not $thumb }}
        {{ with $p }}
          {{ with (first 1 (.Resources.ByType "image")) }}
            {{ $thumb = (index . 0).RelPermalink }}
          {{ end }}
        {{ end }}
      {{ end }}
      {{ if not $thumb }}
        {{ $thumb = "https://placehold.co/200x200?text=Featured" }}
      {{ end }}

      <a href="{{ $p.RelPermalink }}">
        <div class="bento-item">
          <img src="{{ $thumb }}" alt="{{ $p.LinkTitle }}" loading="lazy">
          <div>
            <h3>{{ $p.LinkTitle }}</h3>
            {{ with $p.Params.description }}<p>{{ . }}</p>{{ end }}
          </div>
        </div>
      </a>
    {{ end }}
  </section>
</main>
{{ end }}
